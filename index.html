<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <title>Modern Test Sistemi</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="firebase.js"></script>
</head>
<body>
  <button id="fabAdd" class="fab" title="Yeni Test/Soru Ekle">+</button>

  <div class="app">
    <header class="topbar">
      <h1>ğŸ“ Modern Test Sistemi</h1>
      <p class="muted">Test ve boÅŸluk doldurma sorularÄ± oluÅŸturun, Ã§Ã¶zÃ¼n ve sonuÃ§larÄ± anlÄ±k gÃ¶rÃ¼n</p>
    </header>

    <main class="main-grid">
      <section class="tests-list panel">
        <h2>Testler</h2>
        <div id="testsContainer"></div>
      </section>

      <section class="work-area panel">
        <div id="welcome" class="welcome">
          <h2>ğŸ‘‹ HoÅŸ Geldiniz</h2>
          <p>BaÅŸlamak iÃ§in sol taraftaki listeden bir test seÃ§in veya saÄŸ alttaki + butonuna tÄ±klayarak yeni test oluÅŸturun.</p>
        </div>
        <div id="solveArea" class="hidden"></div>
        <div id="resultArea" class="hidden"></div>
      </section>
    </main>
  </div>

  <!-- Modal: Test OluÅŸturma -->
  <div id="modal" class="modal hidden">
    <div class="modal-card">
      <div class="modal-head">
        <h3 id="modalTitle">Yeni Test OluÅŸtur</h3>
        <button id="modalClose" class="closeBtn">&times;</button>
      </div>
      <div class="modal-body">
        <!-- AdÄ±m 1: Soru Tipi SeÃ§imi -->
        <div id="stepTypeSelection">
          <label>Soru Tipini SeÃ§in</label>
          <div class="type-selection">
            <div class="type-option" data-type="quiz">
              <div class="icon">ğŸ“</div>
              <h4>Test (Ã‡oktan SeÃ§meli)</h4>
              <p>Klasik test sorularÄ± (A, B, C, D ÅŸÄ±klÄ±)</p>
            </div>
            <div class="type-option" data-type="fillblank">
              <div class="icon">âœï¸</div>
              <h4>BoÅŸluk Doldurma</h4>
              <p>Cevap havuzundan kelime seÃ§erek boÅŸluklarÄ± doldurma</p>
            </div>
          </div>
        </div>

        <!-- AdÄ±m 2: Test Bilgileri -->
        <div id="stepTestInfo" class="hidden">
          <label>Test BaÅŸlÄ±ÄŸÄ±</label>
          <input id="mTestTitle" type="text" placeholder="Ã–rn: Matematik Testi - Konu: Kesirler" />

          <div class="row mt">
            <button id="mAddQuestion" class="btn btn-primary">â• Soru Ekle</button>
            <button id="mImportExample" class="btn btn-outline">ğŸ“‹ Ã–rnek Getir</button>
          </div>

          <label class="mt">Toplu Soru Ekleme (JSON FormatÄ±)</label>
          <textarea id="mBulkArea" placeholder='Toplu soru eklemek iÃ§in JSON formatÄ±nda yapÄ±ÅŸtÄ±rÄ±n...'></textarea>
          <button id="mPasteBulk" class="btn btn-outline mt" style="width:100%">ğŸ“¥ Toplu Veriyi Ä°Ã§e Aktar</button>

          <hr style="border: none; border-top: 1px solid var(--border); margin: 24px 0;" />
          
          <div id="modalQuestions"></div>

          <div class="row mt" style="justify-content: space-between;">
            <button id="mBackToType" class="btn btn-outline">â¬…ï¸ Geri</button>
            <div class="row">
              <button id="mReset" class="btn btn-outline">ğŸ”„ SÄ±fÄ±rla</button>
              <button id="mSaveTest" class="btn btn-success">âœ… Testi YayÄ±nla</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
